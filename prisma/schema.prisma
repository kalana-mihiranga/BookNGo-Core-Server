generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id        Int       @id @default(autoincrement())
  name      String
  email     String    @unique
  password  String
  createdAt DateTime  @default(now())
  role      Role
  business  Business?
}

model Business {
  id     Int     @id
  user   User    @relation(fields: [id], references: [id])
  events Event[]
}

model Event {
  id                Int      @id @default(autoincrement())
  name              String
  type              String
  category          String
  maximumCount      Int
  cordinatorName    String
  cordinatorContact String
  description       String
  hashtag           String
  location          String
  country           String
  discount          Float?
  refundPolicy      String
  startTime         String
  endTime           String
  date              DateTime
  bannerUrl         String?
  businessId        Int
  business          Business @relation(fields: [businessId], references: [id])

  @@index([businessId], map: "Event_businessId_fkey")
}

model EventSpecification {
  id       Int    @id @default(autoincrement())
  specName String
  eventId  Int
}

model EventCondition {
  id        Int    @id @default(autoincrement())
  condition String
  eventId   Int
}

model PriceCategory {
  id      Int    @id @default(autoincrement())
  name    String
  price   Float
  eventId Int
}

enum Role {
  TOURIST
  ADMIN
  BUSINESS
}
